'\" t
.\"     Title: Kirbyinstall
.\"    Author: Uwe Gehring <adspectus@fastmail.com>
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: 05/23/2020
.\"    Manual: kirbyinstall User Manual
.\"    Source: kirbyinstall
.\"  Language: English
.\"
.TH "KIRBYINSTALL" "1" "05/23/2020" "kirbyinstall" "kirbyinstall User Manual"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
kirbyinstall \- Script to install a Kirby kit to a new virtual host directory
.SH "SYNOPSIS"
.HP \w'\fBkirbyinstall\fR\ 'u
\fBkirbyinstall\fR [\fB\-d\fR] [\fB\-l\fR] [\fB\-f\fR] [\fB\-p\fR\ \fIpackage\fR] [\fB\-w\fR\ \fIvhost\fR]
.HP \w'\fBkirbyinstall\fR\ 'u
\fBkirbyinstall\fR [\fB\-h\fR]
.SH "DESCRIPTION"
.PP
This manual page documents briefly the
\fBkirbyinstall\fR
command, which is part of the
\fBkirbytools\fR(1)
package\&.
.PP
\fBkirbyinstall\fR
is a script that will install a Kirby package to a new virtual host directory\&. The package will be downloaded first if it is not already on the local machine by means of the
\fBkirbydownload\fR(1)
script\&. You can specify the package to install and the virtual host directory where it should be installed to\&.
.PP
Optionally, you can force the download even if a package of the same kit and version is already on your local machine, and you can replace the
kirby
program directory with a symbolic link to a folder with kirby program directories\&.
.PP
Default values for these options will be set by the
\fBkirbyconfigure\fR(1)
script, which will be called upon first invocation of any of the
kirbytools
scripts\&. The values will be saved in the file
$HOME/\&.kirbyrc\&.
.SH "OPTIONS"
.PP
The script follows the usual GNU command line syntax, options always starting with a dash (`\-\*(Aq)\&.
.PP
\fB\-h\fR
.RS 4
Show summary of options\&.
.RE
.PP
\fB\-d\fR
.RS 4
Show debugging information\&.
.RE
.PP
\fB\-l\fR
.RS 4
Replace the
kirby
program directory of the installed kit to a folder with kirby program directories\&. The location defaults to the value of
\fBKIRBYLIBDIR\fR
(appended with the versionnumber), which has been configured by the
\fBkirbyconfigure\fR(1)
script and which is saved in the file
$HOME/\&.kirbyrc\&.
.sp
This makes sense if you would like to create multiple virtual hosts which are based on the same Kirby version\&. The
kirby
program directory will then only be linked into the virtual host folder\&. See the
\m[blue]\fBKirby cookbook recipe about multisite installations\fR\m[]\&\s-2\u[1]\d\s+2
for further details\&.
.RE
.PP
\fB\-f\fR
.RS 4
Force download even if the package is already downloaded\&. Standard behavior is to skip downloading if the package is already in
\fBKIRBYDOWNLOADDIR\fR\&.
.RE
.PP
\fB\-p \fR\fB\fIpackage\fR\fR
.RS 4
Specify which Kirby
\fIpackage\fR
to install\&. Defaults to the value of
\fB$KIRBYKIT\fR\-\fB$KIRBYVERSION\fR, which have been configured by the
\fBkirbyconfigure\fR(1)
script and which are saved in the file
$HOME/\&.kirbyrc\&.
.RE
.PP
\fB\-w \fR\fB\fIvhost\fR\fR
.RS 4
Specify the name of the
\fIvirtual host directory\fR
to install to\&. Defaults to a random value of lowercase letters prefixed by
\fB$KIRBYSUFFIX\fR, which has been configured by the
\fBkirbyconfigure\fR(1)
script and which is saved in the file
$HOME/\&.kirbyrc\&.
.sp
The value must conform to a valid directory name, wich will be used as a subdirectory of the virtual hosts root folder as defined by
\fB$KIRBYVHOSTROOT\fR
in the file
$HOME/\&.kirbyrc\&.
.RE
.SH "FILES"
.PP
/etc/kirbytools/kirbyrc
.RS 4
The system\-wide configuration file to control the behaviour of
kirbyinstall\&.
.RE
.PP
${HOME}/\&.kirbyrc
.RS 4
The per\-user configuration file to control the behaviour of
kirbyinstall\&. This file will be created by the
\fBkirbyconfigure\fR
script (see
\fBkirbyconfigure\fR(1)) if it does not exist\&.
.RE
.SH "BUGS"
.PP
Currently, only Kirby 3 starterkits and plainkits are supported\&.
.PP
The programs are currently limited to work with the
apache2
httpd\&.
.PP
Some functionality requires root (or sudo as root) access\&.
.SH "SEE ALSO"
.PP
\fBkirbyconfigure\fR(1),
\fBkirbydeinstall\fR(1),
\fBkirbydownload\fR(1),
\fBkirbysetup\fR(1),
\fBkirbytools\fR(1)
.SH "AUTHOR"
.PP
\fBUwe Gehring\fR <\&adspectus@fastmail\&.com\&>
.RS 4
.RE
.SH "COPYRIGHT"
.br
Copyright \(co 2020 Uwe Gehring
.br
.PP
This manual page was written for the Debian system (and may be used by others)\&.
.PP
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU General Public License, Version 2 or (at your option) any later version published by the Free Software Foundation\&.
.PP
On Debian systems, the complete text of the GNU General Public License can be found in
/usr/share/common\-licenses/GPL\&.
.sp
.SH "NOTES"
.IP " 1." 4
Kirby cookbook recipe about multisite installations
.RS 4
\%https://getkirby.com/docs/cookbook/setup/multisite-variant
.RE
